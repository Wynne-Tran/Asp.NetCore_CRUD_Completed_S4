@model IEnumerable<Assignment1.Models.Registrations>

@{
    ViewData["Title"] = "Registration";

}
@section header{
    <form methd="get">
        <div class="Incidents-container p-3">
            <div class="box Reg">
                <span></span>
                <div class="content">
                    <h4>Customer: @ViewBag.name</h4>
                    <p>@ViewBag.announcement</p>
                    <h4>Registrations</h4>
                    @if (Model.Count() > 0)
                    {

                        <table class="table table-bordered" table-striped style="width:100%">
                            <thead>
                                <tr>
                                    <th><p>PRODUCT</p></th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>

                                @foreach (var obj in Model)
                                {
                                    <tr>
                                        <td class=" text-center">
                                            <label asp-for="@obj.ProductsId">
                                                @obj.Products.PName
                                            </label>
                                        </td>
                                        <td class=" text-center">
                                            <div>
                                                <a asp-route-id="@obj.RegistrationsId" asp-action="Delete" class="btn btn-outline-danger text-right">Delete</a>
                                            </div>
                                        </td>
                                    </tr>
                                }

                            </tbody>
                        </table>
                    }
                </div>
            </div>
        </div>
    </form>
    <form methd="post" asp-action="Index">
        <div class="form-group row ">
            <div class="m-5 w-100">
                <select name="ProductsId" class="form-control"
                        asp-items="@(new SelectList(ViewBag.Products,
                                    "ProductsId", "PName"))">
                </select>
            </div>
            <div class="form-group row">
                <div class="col-5 offset-4 row">
                    <table class="col-5 offset-4 row">
                        <tr class="col-5">
                            <td><input type="submit" class="btn btn-outline-warning border-success text-right" value="Register"></td>
                        </tr>
                    </table>

                </div>
            </div>
        </div>
        
    </form>


}